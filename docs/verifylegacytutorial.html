<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.9.2 from src/site/xdoc/verifylegacytutorial.xml at 2020-09-20
 | Rendered using Apache Maven Fluido Skin 1.9
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 1.9.2" />
    <meta name="author" content="Dean Hiller" />
    <title>Ant Contrib &#x2013; VerifyDesign Legacy System Tutorial</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.9.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
    <script src="./js/apache-maven-fluido-1.9.min.js"></script>
  </head>
  <body class="topBarDisabled">
    <div class="container-fluid">
      <header>
        <div id="banner">
          <div class="pull-left"><div id="bannerLeft"><h2>Ant Contrib</h2>
</div>
</div>
          <div class="pull-right"></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2020-09-20<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 1.0-SNAPSHOT</li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">Ant Contrib</li>
    <li><a href="intro.html" title="Introduction"><span class="none"></span>Introduction</a></li>
   <li class="nav-header">Project Documentation</li>
    <li><a href="project-info.html" title="Project Information"><span class="icon-chevron-right"></span>Project Information</a></li>
    <li><a href="project-reports.html" title="Project Reports"><span class="icon-chevron-right"></span>Project Reports</a></li>
   <li class="nav-header">Logic Tasks</li>
    <li><a href="antcallback.html" title="AntCallBack"><span class="none"></span>AntCallBack</a></li>
    <li><a href="antfetch.html" title="AntFetch"><span class="none"></span>AntFetch</a></li>
    <li><a href="assert.html" title="Assert"><span class="none"></span>Assert</a></li>
    <li><a href="foreach.html" title="Foreach"><span class="none"></span>Foreach</a></li>
    <li><a href="for.html" title="For"><span class="none"></span>For</a></li>
    <li><a href="if.html" title="If"><span class="none"></span>If</a></li>
    <li><a href="outofdate.html" title="OutOfDate"><span class="none"></span>OutOfDate</a></li>
    <li><a href="relentless.html" title="Relentless"><span class="none"></span>Relentless</a></li>
    <li><a href="runtarget.html" title="RunTarget"><span class="none"></span>RunTarget</a></li>
    <li><a href="switch.html" title="Switch"><span class="none"></span>Switch</a></li>
    <li><a href="throw.html" title="Throw"><span class="none"></span>Throw</a></li>
    <li><a href="timestampselector.html" title="TimestampSelector"><span class="none"></span>TimestampSelector</a></li>
    <li><a href="trycatch.html" title="Trycatch"><span class="none"></span>Trycatch</a></li>
   <li class="nav-header">Network Tasks</li>
    <li><a href="post.html" title="HTTP Post"><span class="none"></span>HTTP Post</a></li>
    <li><a href="server_tasks.html" title="AntServer/RemoteAnt"><span class="none"></span>AntServer/RemoteAnt</a></li>
    <li><a href="importurl.html" title="ImportURL"><span class="none"></span>ImportURL</a></li>
   <li class="nav-header">Http Tasks and Types</li>
    <li><a href="http_client_type.html" title="HttpClient"><span class="none"></span>HttpClient</a></li>
    <li><a href="http_state_type.html" title="HttpState"><span class="none"></span>HttpState</a></li>
    <li><a href="post_method.html" title="PostMethod"><span class="none"></span>PostMethod</a></li>
    <li><a href="get_method.html" title="GetMethod"><span class="none"></span>GetMethod</a></li>
    <li><a href="head_method.html" title="HeadMethod"><span class="none"></span>HeadMethod</a></li>
   <li class="nav-header">Performance Monitoring and Tasks</li>
    <li><a href="performance_monitor.html" title="Performance Monitor"><span class="none"></span>Performance Monitor</a></li>
    <li><a href="stopwatch.html" title="Stopwatch"><span class="none"></span>Stopwatch</a></li>
   <li class="nav-header">Platform Tasks</li>
    <li><a href="osfamily.html" title="Osfamily"><span class="none"></span>Osfamily</a></li>
    <li><a href="shellscript.html" title="Shellscript"><span class="none"></span>Shellscript</a></li>
   <li class="nav-header">Property Tasks</li>
    <li><a href="math.html" title="Math"><span class="none"></span>Math</a></li>
    <li><a href="propertycopy.html" title="Propertycopy"><span class="none"></span>Propertycopy</a></li>
    <li><a href="propertyselector.html" title="PropertySelector"><span class="none"></span>PropertySelector</a></li>
    <li><a href="pathtofileset.html" title="Pathtofileset"><span class="none"></span>Pathtofileset</a></li>
    <li><a href="propertyregex.html" title="PropertyRegex"><span class="none"></span>PropertyRegex</a></li>
    <li><a href="sortlist.html" title="SortList"><span class="none"></span>SortList</a></li>
    <li><a href="urlencode.html" title="URLEncode"><span class="none"></span>URLEncode</a></li>
    <li><a href="variable.html" title="Variable"><span class="none"></span>Variable</a></li>
   <li class="nav-header">Process Tasks</li>
    <li><a href="forget.html" title="Forget"><span class="none"></span>Forget</a></li>
    <li><a href="limit.html" title="Limit"><span class="none"></span>Limit</a></li>
   <li class="nav-header">Other Tasks</li>
    <li><a href="antclipse.html" title="Antclipse"><span class="none"></span>Antclipse</a></li>
    <li><a href="compilewithwalls.html" title="CompileWithWalls"><span class="none"></span>CompileWithWalls</a></li>
    <li><a href="inifile.html" title="IniFile"><span class="none"></span>IniFile</a></li>
    <li><a href="verifydesign.html" title="VerifyDesign"><span class="none"></span>VerifyDesign</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
            <hr />
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
<a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn"  class="span10" >

  
    <section>
<h2><a name="VerifyDesign_Legacy_System_Tutorial"></a>VerifyDesign Legacy System Tutorial</h2>
    
<p>
      If you have a legacy system, it can be overwhelming as a typical
      system is a mess when it comes to package dependencies. This
      tutorial shows a way to ease into the <code>verifydesign</code>
      task instead of fixing everything all at once.
    </p>
    
<p>
      First, in your <code>build.xml</code> file, use this line to
      verify your jar (or you can modify it to verify multiple jars)
    </p>
    
<div class="source"><pre class="prettyprint">&lt;verifydesign jar=&quot;yourjarname.jar&quot; design=&quot;design.xml&quot;/&gt;</pre></div>
    
<p>
      Now is the hardest part, go ahead and define every package and
      set the needDepends attribute to false for all of them so your
      <code>design.xml</code> should look like so
    </p>
    
<div class="source"><pre class="prettyprint">&lt;design&gt;
  &lt;package name=&quot;first&quot; package=&quot;your.first.package&quot; needDepends=&quot;false&quot;/&gt;
  &lt;package name=&quot;second&quot; package=&quot;your.second.package&quot; needDepends=&quot;false&quot;/&gt;
  &lt;package name=&quot;third&quot; package=&quot;your.third.package&quot; needDepends=&quot;false&quot;/&gt;
  &lt;package name=&quot;fourth&quot; package=&quot;your.fourth.package&quot; needDepends=&quot;false&quot;/&gt;
  &lt;package name=&quot;fifth&quot; package=&quot;your.fifth.package&quot; needDepends=&quot;false&quot;/&gt;
&lt;/design&gt;</pre></div>
    
<p>
      Please give them better names then first, second, third, etc.
      You may have 100 packages on some projects and this may take a
      while to get started, but keep in mind once you are done with
      this, you are done with the majority of the work and the build
      will pass once you are done with this too!
    </p>
    
<p>
      Now comes the fun part, learning about your design. Take a
      package that you want to start restricting dependencies on and
      erase the needDepends(by default it's value will be true). Let's
      take your.first.package and create the new
      <code>design.xml</code> file like so...
    </p>
    
<div class="source"><pre class="prettyprint">&lt;design&gt;
  &lt;package name=&quot;first&quot; package=&quot;your.first.package&quot;/&gt;
  &lt;package name=&quot;second&quot; package=&quot;your.second.package&quot; needDepends=&quot;false&quot;/&gt;
  &lt;package name=&quot;third&quot; package=&quot;your.third.package&quot; needDepends=&quot;false&quot;/&gt;
  &lt;package name=&quot;fourth&quot; package=&quot;your.fourth.package&quot; needDepends=&quot;false&quot;/&gt;
  &lt;package name=&quot;fifth&quot; package=&quot;your.fifth.package&quot; needDepends=&quot;false&quot;/&gt;
&lt;/design&gt;</pre></div>
    
<p>
      Now we run the build and we get errors that your.first.package
      depends on second, third, and fourth. Let's pretend we only
      wanted to depend on second and third. We then change our design
      file to so...
    </p>
    
<div class="source"><pre class="prettyprint">&lt;design&gt;
  &lt;package name=&quot;first&quot; package=&quot;your.first.package&quot;
    &lt;depends&gt;second&lt;/depends&gt;
    &lt;depends&gt;third&lt;/depends&gt;
  &lt;/package&gt;
  &lt;package name=&quot;second&quot; package=&quot;your.second.package&quot; needDepends=&quot;false&quot;/&gt;
  &lt;package name=&quot;third&quot; package=&quot;your.third.package&quot; needDepends=&quot;false&quot;/&gt;
  &lt;package name=&quot;fourth&quot; package=&quot;your.fourth.package&quot; needDepends=&quot;false&quot;/&gt;
  &lt;package name=&quot;fifth&quot; package=&quot;your.fifth.package&quot; needDepends=&quot;false&quot;/&gt;
&lt;/design&gt;</pre></div>
    
<p>
      Now we run the build and clean up all the code so that first
      doesn't depend on fourth anymore. This first step can typically
      take a full release if you are doing this in the margins. That
      is ok and now forever <code>your.first.package</code> will only
      depend on second and third until the design file is changed. You
      have made major progress. I would suggest a package a
      release. It can clean up dependencies and you will start finding
      it can be easier to add more and more features and not end up
      with a wad or mess on your hands. Good luck
      designing. Refactoring a legacy system can be very challenging
      and very long with or without this task. This Ant task
      guarantees that you are actually heading in your defined
      direction. Whether the direction is correct or not is another
      story :).
    </p>
    </section>
  

        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>&#169;      2001&#x2013;2020
<a href="https://github.com/top-logic/ant-contrib/">Ant-Contrib Project</a>
</p>
        </div>
      </div>
    </footer>
  </body>
</html>
